# 4.1 Lebesgue 积分的定义

## 4.1.1 简单函数的 Lebesgue 积分

**定义**. 设 $f(x)=\sum\limits_{n=1}^{N}a_{n}\chi_{E_{n}}(x)$, 是$E$ 上的简单函数, 则定义 $f(x)$ 在 $E$ 上的 Lebesgue 积分定义为
$$
\int_{E}f(x)\mathrm{d}x=\sum\limits_{n=1}^{N}a_{n}m(E_{n})
$$
**定理4.1.1**. $f$ 和 $g$ 是可测集 $E$ 上的简单函数, 则

(1) 若 $f\leq g$,  $\int_{E}f(x)\mathrm{d}x\leq \int_{E}g(x)\mathrm{d}x$

(2) 对于任意 $c\in \mathbb{R}^{1}$, $\int_{E}cf(x)\mathrm{d}x=c\int_{E}f(x)\mathrm{d}x$

(3) $\int_{E}(f(x)+g(x))\mathrm{d}x=\int_{E}f(x)\mathrm{d}x+\int_{E}g(x)\mathrm{d}x$

证明: (1) 设 $f(x)=\sum\limits_{i=1}^{p}a_{i}\chi_{A_{i}}(x)$, $g(x)=\sum\limits_{j=1}^{q}b_{j}\chi_{B_{j}}(x)$, 可以得到 $E$ 的可测分割 $\{C_{n}\}=\{A_{i}\cap B_{j}|1\leq i\leq p, 1\leq j\leq q\}$, 则在每一个 $C_{n}$ 上都有 $f(x)\leq g(x)$, 根据简单函数 Lebesgue 积分的定义可知结论成立.

(2) 设 $f(x)=\sum\limits_{n=1}^{N}a_{n}\chi_{E_{n}}(x)$, $cf(x)=\sum\limits_{n=1}^{N}ca_{n}\chi_{E_{n}}(x)$, $\int_{E}cf(x)\mathrm{d}x=\sum\limits_{n=1}^{N}ca_{n}m\big(\chi_{E_{n}}(x)\big)=c\sum\limits_{n=1}^{N}a_{n}m\big(\chi_{E_{n}}(x)\big)=c\int_{E}f(x)\mathrm{d}x$

(3) 设  $f(x)=\sum\limits_{i=1}^{p}a_{i}\chi_{A_{i}}(x)$, $g(x)=\sum\limits_{j=1}^{q}b_{j}\chi_{B_{j}}(x)$, 可以得到 $E$ 的可测分割 $\{C_{n}\}=\{A_{i}\cap B_{j}|1\leq i\leq p, 1\leq j\leq q\}$, 进而有
$$
\begin{align}
\int_{E}f(x)+g(x)\mathrm{d}x &=\sum\limits_{i=1}^{p}\sum\limits_{j=1}^{q}(a_{i}+b_{j})m(A_{i}\cap B_{j})\\ &=\sum\limits_{i=1}^{p}a_{i}\sum\limits_{j=1}^{q}m(A_{i}\cap B_{j})+\sum\limits_{j=1}^{q}b_{j}\sum\limits_{i=1}^{p}m(A_{i}\cap B_{j}) \\
&=\sum\limits_{i=1}^{p}a_{i}m(A_{i})+\sum\limits_{j=1}^{q}b_{j}m(B_{j}) \\
&=\int_{E}f(x)\mathrm{d}x+\int_{E}g(x)\mathrm{d}x
\end{align}
$$

## 4.1.2 一般可测函数的 Lebesgue 积分

**定理4.1.2**.设 $\{f_{n}\}$ 是可测集 $E$ 上的一列单调递增的非负简单函数列, 且一致收敛于 $f(x)$ (即 $f_{n}\uparrow f$), 则:

(1) 对于 $E$ 上的任意简单函数 $g$, 若 $f(x)\geq g(x)$, $\forall x\in E$, 则 $\lim\limits_{n\rightarrow\infty}\int_{E}f_{n}(x)\mathrm{d}x\geq \int_{E}g(x)\mathrm{d}x$

(2) $\lim\limits_{n\rightarrow\infty}\int_{E}f_{n}(x)\mathrm{d}x=\sup\{\int_{E}g(x)\mathrm{d}x|\text{$g(x)$ 是简单函数且 }g(x)\leq f(x), \forall x\in E\}$

证明:  (1) 对任意正整数 $n$ 定义 $E_{n}=\{x\in E|f_{n}(x)\geq \epsilon g(x)\}$, $0\lt \epsilon\lt 1$, 易证 $\{E_{n}\}$ 是单调递增的集列, $E=\bigcup\limits_{n=1}^{\infty}E_{n}$ (否则, 若 $x\in E-\bigcup\limits_{n=1}^{\infty}E_{n}$, 则 $f_{n}(x)\lt \epsilon f(x)$, $\forall n\in \mathbb{N}^{+}$, 进而有 $f(x)=\lim\limits_{n\rightarrow \infty}f_{n}(x)\lt \epsilon f(x)$, 与 $f(x)\geq g(x)$, $\forall x\in E$ 矛盾.), 
$$
\int_{E}f(x)\mathrm{d}x \geq \int_{E}f(x)\chi_{E_{n}}(x)\mathrm{d}x\geq \int_{E}\epsilon g(x)\chi_{E_{n}}(x)\mathrm{d}x=\epsilon \int_{E}g(x)\chi_{E_{n}}(x)\mathrm{d}x
$$
设  $g(x)=\sum\limits_{i=1}^{k}a_{i}\chi_{A_{i}}(x)$, $\{A_{i}\}$ 是 $E$ 的一个可测分割, 则
$$
g(x)\chi_{E_{n}}(x)=\sum\limits_{i=1}^{k}a_{i}\chi_{A_{i}\cap E_{n}}(x)
$$

$$
\int_{E}g(x)\chi_{E_{n}}(x)\mathrm{d}x=\sum\limits_{i=1}^{k}a_{i}m(A_{i}\cap E_{n})
$$

因为 $\{E_{n}\}$ 是单调递增的集列, 所以 $\{A_{i}\cap E_{n}\}$ 也是一个单调递增的集列, 易证 $A_{i}=\bigcup\limits_{n=1}^{\infty}(A_{i}\cap E_{n})$ ($\bigcup\limits_{n=1}^{\infty}(A_{i}\cap E_{n})=A_{i}\cap\bigcup\limits_{n=1}^{\infty}E_{n}=A_{i}\cap E=A_{i}$). 因此
$$
\lim\limits_{n\rightarrow \infty}\int_{E}g(x)\chi_{E_{n}}(x)\mathrm{d}x=\sum\limits_{i=1}^{k}a_{i}\lim\limits_{n\rightarrow \infty}m(A_{i}\cap E_{n})=\sum\limits_{i=1}^{k}a_{i}m(A_{i})=\int_{E}g(x)\mathrm{d}x
$$
结合简单函数 Lebesgue 积分的单调性, 有
$$
\lim\limits_{n\rightarrow \infty}\int_{E}f(x)\mathrm{d}x\geq \epsilon\lim\limits_{n\rightarrow \infty}\int_{E}g(x)\chi_{E_{n}}(x)\mathrm{d}x=\epsilon\int_{E}g(x)\mathrm{d}x
$$
由 $\epsilon$ 的任意性可知
$$
\lim\limits_{n\rightarrow \infty}\int_{E}f(x)\mathrm{d}x \geq\int_{E}g(x)\mathrm{d}x
$$


(2) 证明 $\leq$ 的关系成立:

$f_{n}(x)\leq f(x)$, $\forall x\in E$, 因此 $f_{n}(x)\in \{g(x) | \text{$g(x)$ 是简单函数且 }g(x)\leq f(x), \forall x\in E\} $, 因此 $\leq$ 关系成立.

证明 $\geq$ 关系成立:

对于任意 $g(x)\in \{g(x) | \text{$g(x)$ 是简单函数且 }g(x)\leq f(x), \forall x\in E\} $, 由(1)中的结论有 $\lim\limits_{n\rightarrow\infty}\int_{E}f_{n}(x)\mathrm{d}x\geq \int_{E}g(x)\mathrm{d}x$, 因此 $\geq$ 关系成立.

**定义**. 对于可测集 $E$ 上的非负可测函数 $f$, 定义其 Lebesgue 积分为
$$
\int_{E}f(x) \mathrm{d}x=\sup\{\int_{E}g(x)\mathrm{d}x|\text{$g(x)$ 是简单函数且 }g(x)\leq f(x), \forall x\in E\}
$$
由定理4.1.2可知, 对于任意一致收敛到 $f$ 的单调递增非负简单函数列 $\{f_{n}\}$, $\lim\limits_{n\rightarrow\infty}\int_{E}f_{n}(x)\mathrm{d}x=\int_{E} f(x)\mathrm{d}x$, 即 $\int_{E} f(x)\mathrm{d}x$ 可以表示成 $\int_{E} f(x)\mathrm{d}x=\lim\limits_{n\rightarrow\infty}\int_{E} f_{n}(x)\mathrm{d}x$, $f_{n}\rightarrow f$. 若 $\int_{E}f\mathrm{d}x\lt\infty$, 则称 $f$ 在 $E$ 上是可积的.

**定义**. 对于可测集 $E$ 上一般的可测函数 $f$, 认为当 $\int_{E}f^{+}(x)\mathrm{d}x$ 或 $\int_{E}f^{-}(x)\mathrm{d}x$ 至少有一个是有限值时, 其 Lebesgue 积分存在, 定义其 Lebesgue 积分为
$$
\int_{E}f(x) \mathrm{d}x= \int_{E}f^{+}(x)\mathrm{d}x-\int_{E}f^{-}(x)\mathrm{d}x
$$

若 $\int_{E}f^{+}(x)\mathrm{d}x$ 或 $\int_{E}f^{-}(x)\mathrm{d}x$ 都是有限值, 即 $\int_{E}f(x) \mathrm{d}x$ 是有限值时, 称 $f$ 在 $E$ 上是可积的.

可测集 $E$上的 Lebesgue 可积函数全体构成的集合记为 $L(E)$.

> 积分存在和可积分的区别: 当 $f$ 的积分存在时, 其积分值可能是有限的, 也可能是 $\pm \infty$, 只有当 $f$ 可积的时候, 其积分值才必然是有限的. 非负可测函数的积分总是存在的, 但积分值可能是 $\pm\infty$, 之所以允许积分值为 $\pm\infty$, 是因为这样会便于叙述.

# 4.2 Lebesgue 积分的运算性质与可积性的讨论



**定理4.2.1**. 设 $f$ 和 $g$ 是可测集 $E$ 上的非负可测函数, 则

(1) 对任意 $c\geq 0$, $\int_{E}cf(x) \mathrm{d}x=c\int_{E}f(x) \mathrm{d}x$

(2) $\int_{E}(f(x)+ g(x)) \mathrm{d}x=\int_{E}f(x) \mathrm{d}x+\int_{E}g(x) \mathrm{d}x$

(3) 若在 $E$ 上 $f\leq g$, a.e., 则 $\int_{E}f(x) \mathrm{d}x\leq \int_{E}g(x) \mathrm{d}x$

证明: (1) 由定理3.3.2可知, 存在 $E$ 上单调递增的非负简单函数列 $f_{n}\uparrow f$, 进而 $cf_{n}\uparrow cf$, 因此

$$
\int_{E}cf(x) \mathrm{d}x=\lim\limits_{n\rightarrow \infty}\int_{E}cf_{n}(x) \mathrm{d}x=c\lim\limits_{n\rightarrow \infty}\int_{E}f_{n}(x) \mathrm{d}x=c\int_{E}f(x) \mathrm{d}x
$$
(2) 由定理3.3.2可知,存在 $E$ 上单调递增的非负简单函数列 $f_{n}\uparrow f$,  $g_{n}\uparrow g$, 进而 $f_{n}+ g_{n}\uparrow f+ g$, 
$$
\begin{align}
\int_{E}(f(x)+ g(x)) \mathrm{d}x &=\lim\limits_{n\rightarrow \infty}\int_{E}(f_{n}(x)+ g_{n}(x))  \mathrm{d}x\\
&=\lim\limits_{n\rightarrow \infty}[\int_{E}f_{n}(x) \mathrm{d}x+\int_{E}g_{n}(x) \mathrm{d}x]\\
&=\int_{E}f(x) \mathrm{d}x+\int_{E}g(x) \mathrm{d}x
\end{align}
$$
(3) 记 $F^{+}=\{p(x)|\text{$p(x)$ 是简单函数且 }p(x)\leq f(x), \forall x\in E\}$, $G^{+}=\{p(x)|\text{$p(x)$ 是简单函数且 }p(x)\leq g(x),  \forall x\in E\}$, 对任意 $p(x)\in F^{+}$, $p(x)\in G^{+}$, 因此 $\int_{E}f(x) \mathrm{d}x=\sup\{\int_{E}p(x)\mathrm{d}x|p(x)\in F^{+}\}\leq \sup\{\int_{E}p(x)\mathrm{d}x|p(x)\in F^{+}\}=\int_{E}g(x) \mathrm{d}x$

**引理4.2.1** 设 $f$ 和 $g$ 是可测集 $E$ 上的可测函数.

(1) 若 $g\in L(E)$, 并且在 $E$ 上 $f\leq g$ a.e. 或 $f\geq g$ a.e., 则 $f$ 在 $E$ 上的积分存在.

(2) 若 $g\in L(E)$, 并且在 $E$ 上 $|f|\leq g$ a.e., 则 $f\in L(E)$. 

(3) $f\in L(E)$ 当且仅当 $|f|\in L(E)$.

(4) 若 $m(E)\lt \infty$, $f$ 是 $E$ 上的有界可测函数, 则 $f\in L(E)$.

证明:

(1) 若 $f\leq g$ a.e. 于 $E$, 则 $f^{+}\leq g^{+}$ a.e., 由于 $g\in L(E)$, $\int_{E}g^{+}(x)\mathrm{d}x\lt \infty$

由定理4.2.1可知, $\int_{E}f^{+}(x)\mathrm{d}x\lt \infty$, $f$ 在 $E$ 上的积分存在.

若 $f\geq g$ a.e. 于 $E$, 则 $f^{-}\leq g^{-}$ a.e., 由于 $g\in L(E)$, $\int_{E}g^{-}(x)\mathrm{d}x\lt \infty$

由定理4.2.1可知, $\int_{E}f^{-}(x)\mathrm{d}x\lt \infty$, $f$ 在 $E$ 上的积分存在.

(2) 由 (1) 的结论可知, $\int_{E}f^{+}(x)\mathrm{d}x\lt \infty$, $\int_{E}f^{-}(x)\mathrm{d}x\lt \infty$, 即 $f\in L(E)$.

(3) 充分性:  $\int_{E}|f(x)|\mathrm{d}x=\int_{E}f^{+}(x)\mathrm{d}x+\int_{E}f^{-}(x)\mathrm{d}x\lt \infty$, 则 $\int_{E}f^{+}(x)\mathrm{d}x\lt \infty$,  $\int_{E}f^{-}(x)\mathrm{d}x\lt \infty$

必要性: 若 $f\in L(E)$, 则 $\int_{E}f^{+}(x)\mathrm{d}x\lt \infty$, $\int_{E}f^{-}(x)\mathrm{d}x\lt \infty$, 从而 $\int_{E}|f(x)|\mathrm{d}x=\int_{E}f^{+}(x)\mathrm{d}x+\int_{E}f^{-}(x)\mathrm{d}x\lt \infty$, 即 $|f|\in L(E)$.

(4) 由于 $f$ 是 $E$ 上的有界函数, 因此存在 $M\geq 0$, $|f(x)|\leq M$ 在 $E$ 上满足, 即 $f^{+}\leq M$, $f^{-}\leq M$, 定义 $g(x)\equiv M$, 则
$$
\begin{align}
\int_{E}f(x) \mathrm{d}x &= \int_{E}f^{+}(x) \mathrm{d}x-\int_{E}f^{-}(x) \mathrm{d}x \\ 
&\leq  \int_{E}f^{+}(x) \mathrm{d}x+\int_{E}f^{-}(x) \mathrm{d}x \\
&\leq 2\int_{E}M \mathrm{d}x=2Mm(E)\lt \infty
\end{align}
$$
因此 $f\in L(E)$ .

**定理4.2.2**. 设 $f$ 在可测集 $E$ 上的积分存在, $A$ 是 $E$ 的可测子集, 则 $f$ 在 $A$ 上的积分存在, 且
$$
\int_{A} f(x) \mathrm{d}x=\int_{E} f(x)\chi_{A}(x) \mathrm{d}x
$$


证明: 当 $f$ 是非负简单函数时, 设 $f(x)=\sum\limits_{i=1}^{n}a_{i}\chi_{E_{i}}(x)$, 则 $\int_{A} f(x) \mathrm{d}x=\sum\limits_{i=1}^{n}a_{i}m(A\cap E_{i})$, 显然 $f(x)\chi_{A}(x)$ 也是简单函数, $f(x)\chi_{A}(x)=\sum\limits_{i=1}^{n}a_{i}\chi_{A\cap E_{i}}(x)$, 则 $\int_{E} f(x)\chi_{A}(x) \mathrm{d}x=\sum\limits_{i=1}^{n}a_{i}m(A\cap E_{i})$.

当 $f$ 是非负可测函数时, 根据定理3.3.2, 存在单调递增的非负简单函数列 $f_{n}\uparrow f$, 显然有 $f_{n}\chi_{A}\uparrow f\chi_{A}$, 则
$$
\int_{A} f(x) \mathrm{d}x=\lim\limits_{n\rightarrow \infty}\int_{A} f_{n}(x) \mathrm{d}x= \lim\limits_{n\rightarrow \infty}\int_{E} f_{n}(x)\chi_{A}(x) \mathrm{d}x= \int_{E} f(x)\chi_{A}(x) \mathrm{d}x
$$
当 $f$ 是一般可测函数时, 若 $f$ 的积分存在, 不妨设 $\int_{E}f^{+}(x)\mathrm{d}x\lt \infty$, 
$$
\int_{A}f^{+}(x)\mathrm{d}x=\int_{E}f^{+}(x)\chi_{A}(x)\mathrm{d}x \leq \int_{E}f^{+}(x) \lt \infty
$$
 因此 $f$ 在 $A$ 上的积分存在, 且
$$
\begin{align}
\int_{A}f(x) \mathrm{d}x &= \int_{A}f^{+}(x)\mathrm{d}x-\int_{A}f^{-}(x)\mathrm{d}x \\
&= \int_{E}f^{+}(x)\chi_{A}(x)\mathrm{d}x-\int_{E}f^{-}(x)\chi_{A}(x)\mathrm{d}x \\
&=\int_{E}f(x)\chi_{A}(x)\mathrm{d}x
\end{align}
$$
证毕.

**定理4.2.3**. (线性性) 若 $f$, $g$ $\in L(E)$, $c$ 是常数, 则 $cf$, $f+g$ $\in L(E)$, 并且
$$
\int_{E}cf(x) \mathrm{d}x = c\int_{E} f(x) \mathrm{d}x
$$

$$
\int_{E}(f(x)+g(x)) \mathrm{d}x = \int_{E} f(x) \mathrm{d}x + \int_{E} g(x) \mathrm{d}x
$$

证明: 由引理4.2.1, $f\in L(E)$, 因此 $|f|\in L(E)$, 
$$
\int_{E} |cf(x)| \mathrm{d}x = \int_{E} |c||f(x)| \mathrm{d}x = |c|\int_{E} |f(x)| \mathrm{d}x \lt \infty
$$
因此 $|cf|\in L(E)$, $cf\in L(E)$. 

由 $f$, $g$ $\in L(E)$, $|f|\in L(E)$, $|g|\in L(E)$, 
$$
\int_{E} |f(x)+g(x)| \mathrm{d}x = \int_{E} |f(x)|+|g(x)| \mathrm{d}x = \int_{E} |f(x)| \mathrm{d}x +\int_{E} |g(x)| \mathrm{d}x \lt \infty
$$
因此 $|f+g|\in L(E)$, $f+g\in L(E)$. 

 (1) 当 $c\geq 0$ 时, $(cf)^{+}=cf^{+}$ 和 $(cf)^{-}=cf^{-}$ 都是非负可测函数, 进而有
$$
\begin{align}\int_{E}cf(x) \mathrm{d}x &= \int_{E}(cf)^{+}(x)\mathrm{d}x-\int_{E}(cf)^{-}(x) \mathrm{d}x \\
&= \int_{E}cf^{+}(x) \mathrm{d}x- \int_{E}cf^{-}(x) \mathrm{d}x \\
&= c\int_{E}f^{+}(x) \mathrm{d}x- c\int_{E}f^{-}(x) \mathrm{d}x \\
&=c \int_{E}f(x) \mathrm{d}x
\end{align}
$$
当 $c\lt 0$ 时, $(cf)^{+}=-cf^{-}$ 和 $(cf)^{-}=cf^{+}$ 都是非负可测函数, 进而有
$$
\begin{align}
\int_{E}cf(x) \mathrm{d}x &= \int_{E}(cf)^{+}(x)\mathrm{d}x-\int_{E}(cf)^{-}(x) \mathrm{d}x \\
&= \int_{E}-cf^{-}(x) \mathrm{d}x- \int_{E}-cf^{+}(x) \mathrm{d}x \\
&= -c\int_{E}f^{+}(x) \mathrm{d}x- (-c)\int_{E}f^{-}(x) \mathrm{d}x \\
&=c \int_{E}f(x) \mathrm{d}x
\end{align}
$$
(2) $f+g=(f+g)^{+}-(f+g)^{-}=(f^{+}-f^{-})-(g^{+}-g^{-})$, 进而 $(f+g)^{+}+f^{-}+g^{+}=(f+g)^{-}+f^{+}+g^{-}$

因此
$$
\int_{E} (f+g)^{+}(x)+f^{-}(x)+g^{+}(x) \mathrm{d}x  =\int_{E} (f+g)^{+}(x) \mathrm{d}x+\int_{E}f^{-}(x)\mathrm{d}x + \int_{E}g^{+}(x)\mathrm{d}x
$$

$$
\int_{E} (f+g)^{-}(x)+f^{+}(x)+g^{-}(x) \mathrm{d}x  =\int_{E} (f+g)^{-} (x)\mathrm{d}x+\int_{E}f^{+}(x)\mathrm{d}x + \int_{E}g^{-}(x)\mathrm{d}x
$$

$$
\begin{align}
\int_{E} (f+g)^{+}(x) \mathrm{d}x-\int_{E} (f+g)^{-}(x) \mathrm{d}x &=\int_{E}f^{+}(x)\mathrm{d}x- \int_{E}f^{-}(x)\mathrm{d}x + \int_{E}g^{+}(x)\mathrm{d}x - \int_{E}g^{-}(x)\mathrm{d}x \\&= \int_{E}f(x)\mathrm{d}x + \int_{E}g(x)\mathrm{d}x
\end{align}
$$

$$
\int_{E} f(x)+g(x)  \mathrm{d}x =\int_{E} (f+g)^{+}(x)\mathrm{d}x \int_{E} -(f+g)^{-}(x)\mathrm{d}x =  \int_{E}f(x)\mathrm{d}x + \int_{E}g(x)\mathrm{d}x
$$



**定理4.2.4**.(单调性). 设 $f$, $g$ 在可测集 $E$ 上的积分存在, 则

(1) 若 $f\leq g$ a.e. 于 $E$, 则 $\int_{E} f(x) \mathrm{d}x\leq \int_{E} g(x) \mathrm{d}x$.

(2) 若 $f=g$ a.e. 于 $E$, 则 $\int_{E}f(x)\mathrm{d}x=\int_{E}g(x)\mathrm{d}x$.

(3) 若 $f\geq 0$ a.e. 于 $E$, $A$ 和 $B$ 是 $E$ 的可测子集, 并且 $A\subseteq B$, 则 $\int_{A}f(x) \mathrm{d}x\leq \int_{B}f(x) \mathrm{d}x$.

(4) 若 $f=0$ a.e. 于 $E$, 则 $\int_{E} f(x) \mathrm{d}x=0$.

(5) 若 $m(E)=0$, 则对 $E$ 上的任意可测函数 $f$, 有 $\int_{E} f(x) \mathrm{d}x=0$.

证明: (1) 显然 $f^{+}\leq g^{+}$ a.e., $f^{-}\geq g^{-}$ a.e., 因此
$$
\int_{E} f^{+}(x) \mathrm{d}x\leq \int_{E} g^{+}(x) \mathrm{d}x
$$

$$
\int_{E} f^{-}(x) \mathrm{d}x\geq \int_{E} g^{-}(x) \mathrm{d}x
$$

$$
\begin{align}
\int_{E} f(x) \mathrm{d}x &= \int_{E} f^{+}(x) \mathrm{d}x-\int_{E} f^{-}(x) \mathrm{d}x \\
&\leq  \int_{E} g^{+}(x) \mathrm{d}x-\int_{E} g^{-}(x) \mathrm{d}x\\ &=\int_{E} g(x) \mathrm{d}x
\end{align}
$$

(2) $f\leq g$ a.e. 于 $E$ $\rightarrow$ $\int_{E} f(x) \mathrm{d}x\leq \int_{E} g(x) \mathrm{d}x$

$f\geq g$ a.e. 于 $E$ $\rightarrow$ $\int_{E} f(x) \mathrm{d}x\geq \int_{E} g(x) \mathrm{d}x$

因此 $\int_{E} f(x) \mathrm{d}x = \int_{E} g(x) \mathrm{d}x$.

(3)
$$
\int_{A}f(x) \mathrm{d}x = \int_{E}f(x)\chi_{A}(x) \mathrm{d}x\leq \int_{E}g(x)\chi_{A}(x) \mathrm{d}x \leq \int_{B}g(x) \mathrm{d}x
$$

(4) 由 (2) 的结论, $\int_{E} f(x) \mathrm{d}x = \int_{E} 0 \mathrm{d}x=0$.

(5) 若 $m(E)=0$, 则对 $E$ 上的任意可测函数 $f$, 它在 $E$ 除去一个零测集 $E$ 上 (即 $\emptyset$ 上) 等于 $0$, 即 $f=0$, a.e. 于 $E$, 由(4)的结论可知 $\int_{E} f(x) \mathrm{d}x=0$.

**定理4.2.5**. 若 $f\in L(E)$, 则
$$
|\int_{E} f(x) \mathrm{d}x|\leq \int_{E} |f(x)| \mathrm{d}x
$$

证明: $-|f|\leq f\leq |f|$, 
$$
-\int_{E}|f(x)| \mathrm{d}x \leq  \int_{E}f(x) \mathrm{d}x \leq \int_{E}|f(x)| \mathrm{d}x
$$

$$
|\int_{E} f(x) \mathrm{d}x|\leq \int_{E} |f(x)| \mathrm{d}x
$$

由(2)可进一步得到: 若 $f=g$ a.e. 于 $E$, $f\in L(E)$, 则 $g\in L(E)$.

引理4.2.2. (Chebyshev 不等式) $f$ 是可测集 $E$ 上的可测函数, 则对任意 $\lambda\gt 0$ 有
$$
m\big(E(|f(x)|\geq \lambda)\big)\leq \frac{1}{\lambda}\int_{E}|f(x)|\mathrm{d}x
$$
证明:
$$
\begin{align}
m\big(E(|f(x)|\geq \lambda)\big) &=m\big(E(\frac{1}{\lambda}|f(x)|\geq 1)\big) \\
&= \int_{E(\frac{1}{\lambda}|f|\geq 1)}1 \mathrm{d}x \\
&\leq \int_{E(\frac{1}{\lambda}|f(x)|\geq 1)}\frac{1}{\lambda}|f|\mathrm{d}x\\
&\leq \frac{1}{\lambda}\int_{E}|f(x)|\mathrm{d}x
\end{align}
$$
证毕.

**定理4.2.6**. 若 $f\in L(E)$, 则 $f$ 在 $E$ 上几乎处处有限.

证明: 即证 $E(f=\infty)$ 的测度为 $0$. 由引理4.4.1, $|f|\in L(E)$, 设 $A=E(f=\infty)$, $A_{k}=E(|f|\geq k)$, $\forall k\in \mathbb{N}^{+}$, 则 $A\subseteq A_{k}$, $\forall k\in \mathbb{N}^{+}$, 由 Chebyshev 不等式得, 
$$
0 \leq m(A) \leq m(A_{k})\leq \frac{1}{k}\int_{E}|f(x)|\mathrm{d}x
$$
由于 $|f|\in L(E)$, $\int_{E}|f(x)|\mathrm{d}x\lt \infty$, 令 $k\rightarrow \infty$, $0\leq m(A)\leq 0$, 即 $m(A)=0$, 证毕.

**定理4.2.7**. 若 $f\geq 0$ a.e. 于 $E$, 且 $\int_{E} f(x) \mathrm{d}x=0$, 则 $f=0$ a.e. 于 $E$.

证明: 即证 $E(f\gt 0)$ 的测度为 $0$, 设 $A=E(f\gt 0)$, $A_{k}=E(f\geq \frac{1}{k})$, $\forall k\in \mathbb{N}^{+}$, 易证 $A=\bigcup\limits_{n=1}^{\infty}A_{k}$, 由 Chebyshev 不等式得, 
$$
0 \leq m(A) \leq m(A_{k})\leq k\int_{E}f(x)\mathrm{d}x=0
$$
$0\leq m(A)\leq 0$, 即 $m(A)=0$, 证毕.

> 该定理给我们的启示: 若要证明可测集 $E$ 上的可测函数 $f$ 和 $g$ 满足 $f=g$ a.e. 于 $E$, 只需证明 $\int_{E}|f-g|\mathrm{d}x=0$, 再由该定理即可得到 $f=g$ a.e. 于 $E$.

**定理4.2.8**. 设 $f\in L(E)$, 则对任意 $\epsilon\gt 0$, 存在相应的 $\delta\gt 0$, 使得当 $A\subset E$ 并且 $m(A)\lt \delta$ 时, 
$$
\int_{A}|f(x)|\mathrm{d}x \lt \epsilon
$$

证明: 当 $f$ 是简单函数时, 设 $|f|\leq M$, $x\in E$, 取任意可测集 $A\subset E$, $m(A)\leq \epsilon/M$, 有
$$
\int_{A}|f(x)|\mathrm{d}x \lt \int_{A}M\mathrm{d}x = Mm(A) = \epsilon
$$
当 $f$ 不是简单函数时, 由第三章知识可知 $|f|$ 也是可测函数, 且存在 $E$ 上的非负简单函数列 $f_{n}\uparrow f$, 且
$$
\lim\limits_{n\rightarrow \infty}\int_{E}f_{n}(x)\mathrm{d}x= \int_{E}|f(x)|\mathrm{d}x
$$
因此对于 $\epsilon/2$, 存在 $N$, 使得当 $n\geq N$ 时
$$
|\int_{E}f_{n}(x)\mathrm{d}x - \int_{E}|f(x)|\mathrm{d}x|=\int_{E}|f(x)|\mathrm{d}x-\int_{E}f_{n}(x)\mathrm{d}x \lt \epsilon/2
$$
对于 $f_{N}$, 其是非负简单函数, 因此由刚刚证明的结论, 对于 $\epsilon/2$, 存在 $\delta\gt 0$, 使得当 $A\subset E$ 并且 $m(A)\lt \delta$ 时 $\int_{A}f_{N}(x)\mathrm{d}x \lt \epsilon/2$.  进而在 $A$ 上, 有 $\int_{E}|f(x)|\mathrm{d}x\lt\int_{E}f_{n}(x)\mathrm{d}x + \epsilon/2\lt \epsilon$.

**定理4.2.9**. (积分的平移不变性) 设 $f\in L(\mathbb{R}^{n})$, 对于 $\forall h\in \mathbb{R}^{n}$, $f(x+h)\in L(\mathbb{R}^{n})$,  并且
$$
\int_{\mathbb{R}^{n}}f(x+h)\mathrm{d}x=\int_{\mathbb{R}^{n}}f(x)\mathrm{d}x
$$
证明: 第1章已证明, $\{x\in \mathbb{R}^{n}|f(x+h)\gt a\}=\{x\in \mathbb{R}^{n}|f(x)\gt a\}-h$, 第3章已证明, 可测函数经过平移仍是可测函数, 因此 $f(x+h)$ 是可测的. 设 $f$ 是简单函数, $f(x)=\sum\limits_{i=1}^{n}a_{i}\chi_{E_{i}}(x)$, 
$$
f(x+h)=\sum\limits_{i=1}^{n}a_{i}\chi_{E_{i}}(x+h)=\sum\limits_{i=1}^{n}a_{i}\chi_{E_{i}-h}(x)
$$
由测度的平移不变性可知
$$
\int_{\mathbb{R}^{n}}f(x+h)\mathrm{d}x=\sum\limits_{i=1}^{n}a_{i}m(E_{i}-h)=\sum\limits_{i=1}^{n}a_{i}m(E_{i})=\int_{\mathbb{R}^{n}}f(x)\mathrm{d}x
$$
当 $f$ 是非负可测函数时, 存在单调递增的非负简单函数列 $f_{n}\uparrow f$, 此时 $f_{n}(x)\uparrow f(x)$, $f_{n}(x+h)\uparrow f(x+h)$此时
$$
\int_{\mathbb{R}^{n}}f(x+h)\mathrm{d}x=\lim\limits_{n \rightarrow \infty}\int_{\mathbb{R}^{n}}f_{n}(x+h)\mathrm{d}x =\lim\limits_{n \rightarrow \infty}\int_{\mathbb{R}^{n}}f_{n}(x)\mathrm{d}x=\int_{\mathbb{R}^{n}}f(x)\mathrm{d}x
$$
 当 $f$ 是一般可测函数时, 
$$
\begin{align}
\int_{\mathbb{R}^{n}}f(x+h)\mathrm{d}x &=\int_{\mathbb{R}^{n}}f^{+}(x+h)\mathrm{d}x-\int_{\mathbb{R}^{n}}f^{-}(x+h)\mathrm{d}x \\
&=\int_{\mathbb{R}^{n}}f^{+}(x)\mathrm{d}x-\int_{\mathbb{R}^{n}}f^{+}(x)\mathrm{d}x\\
&=\int_{\mathbb{R}^{n}}f(x)\mathrm{d}x
\end{align}
$$

证毕.

# 4.3 函数列 Lebesgue 积分的收敛性

我们首先将定理4.1.2中的定理中的单调递增的非负简单函数列 $\{f_{n}\}$ 推广到一般的单调递增非负可测函数列.

**引理4.3.1**. (Levi 单调收敛定理) 设 $\{f_{n}\}$ 是可测集 $E$ 上的一列单调递增的非负可测函数列, 且一致收敛于 $f(x)$ (即 $f_{n}\uparrow f$), 则:

(1) 对于 $E$ 上的任意简单函数 $g$, 若 $f(x)\geq g(x)$, $x\in E$, 则 $\lim\limits_{n\rightarrow\infty}\int_{E}f_{n}(x)\mathrm{d}x\geq \int_{E}g(x)\mathrm{d}x$.

(2) $\lim\limits_{n\rightarrow\infty}\int_{E}f_{n}(x)\mathrm{d}x=\int_{E}f(x)\mathrm{d}(x)$.

证明: (1) 同定理4.1.2中的证明可证明(1)成立.

(2) 由积分的单调性, 有
$$
\int_{E}f_{n}(x)\mathrm{d}x\leq \int_{E}f_{n+1}(x)\mathrm{d}x \leq \int_{E}f(x)\mathrm{d}x , \forall n\in \mathbb{N}^{+}
$$
因此 $\{\int_{E}f_{n}(x)\mathrm{d}x\}$ 单调有界, 必然收敛, 且
$$
\lim\limits_{n\rightarrow \infty}\int_{E}f_{n}(x)\mathrm{d}x \leq \int_{E}f(x)\mathrm{d}x
$$
由可测函数的简单函数逼近性, 必然存在非负简单函数列 $g_{n}\uparrow f$.

由于 $\lim\limits_{n\rightarrow \infty}f_{n}(x)=f(x)\geq g_{k}(x), \forall k\in \mathbb{N}^{+}$ 由(1)中的结论, 有
$$
\lim\limits_{n\rightarrow \infty}\int_{E}f_{n}(x)\mathrm{d}x \geq \int_{E}g_{k}(x)\mathrm{d}x
$$
令 $k\rightarrow \infty$, 有
$$
\lim\limits_{n\rightarrow \infty}\int_{E}f_{n}(x)\mathrm{d}x \geq \int_{E}f(x)\mathrm{d}x
$$
证毕.

**定理4.3.2**. (逐项积分定理) 设 $\{f_{n}\}$ 是 $E$ 上的可测函数列, 且函数项级数 $\sum\limits_{n=1}^{\infty} f_{n}(x)$ 收敛, 则
$$
\int_{E} \sum\limits_{n=1}^{\infty} f_{n}(x)\mathrm{d}x = \sum\limits_{n=1}^{\infty}\int_{E} f_{n}(x)\mathrm{d}x
$$
证明: (1) 先假设 $\{f_{n}\}$ 是非负可测函数列, 部分和函数记为 $F_{k}(x)=\sum\limits_{n=1}^{k}f_{n}(x)$, 显然 $\{F_{k}\}$ 是单调递增的, 且 $\lim\limits_{k\rightarrow\infty} F_{k}(x)=\sum\limits_{n=1}^{\infty} f_{n}(x)$
$$
\begin{align}
\int_{E} \sum\limits_{n=1}^{\infty} f_{n}(x)\mathrm{d}x  &=\lim\limits_{k\rightarrow\infty} \int_{E} F_{k}(x)\mathrm{d}x=\lim\limits_{k\rightarrow\infty} \int_{E} \sum\limits_{n=1}^{k}f_{n}(x)\mathrm{d}x\\
&= \lim\limits_{k\rightarrow\infty} \sum\limits_{n=1}^{k} \int_{E}f_{n}(x)\mathrm{d}x= \sum\limits_{n=1}^{\infty}\int_{E} f_{n}(x)\mathrm{d}x \\

\end{align}
$$
(2) 对于一般情况, 由数学分析的知识可知, 若函数项级数 $\sum\limits_{n=1}^{\infty} f_{n}(x)$ 一致收敛, 则其正部和负部构成的函数项级数 $\sum\limits_{n=1}^{\infty} f_{n}^{+}(x)$ 和 $\sum\limits_{n=1}^{\infty} f_{n}^{-}(x)$ 也一致收敛.


$$
\begin{align}
\int_{E} \sum\limits_{n=1}^{\infty} f_{n}(x)\mathrm{d}x &=\int_{E} \sum\limits_{n=1}^{\infty} f_{n}^{+}(x)\mathrm{d}x - \int_{E} \sum\limits_{n=1}^{\infty} f_{n}^{-}(x)\mathrm{d}x \\

&= \sum\limits_{n=1}^{\infty}\int_{E} f_{n}^{+}(x)\mathrm{d}x - \sum\limits_{n=1}^{\infty}\int_{E} f_{n}^{-}(x)\mathrm{d}x \\

&= \sum\limits_{n=1}^{\infty}\int_{E} f_{n}(x)\mathrm{d}x
\end{align}
$$

**定理4.3.3**. (积分域的可列可加性) 设 $f$ 在 $E$ 上积分存在, $\{E_{n}\}$ 是  $E$ 的一系列互不相交的子集, $E=\bigcup\limits_{n=1}^{\infty}E_{n}$, 则
$$
\int_{\bigcup\limits_{n} E_{n}} f(x)\mathrm{d}x = \sum\limits_{n=1}^{\infty} \int_{E_{n}} f(x)\mathrm{d}x
$$
证明: 
$$
\begin{align}
\int_{\bigcup\limits_{n} E_{n}} f(x)\mathrm{d}x &= \int_{\bigcup\limits_{n} E_{n}}\sum\limits_{n=1}^{\infty} f(x)\chi_{E_{n}}(x)\mathrm{d}x \\

&= \sum\limits_{n=1}^{\infty}\int_{\bigcup\limits_{n} E_{n}} f(x)\chi_{E_{n}}(x)\mathrm{d}x\\

&=\sum\limits_{n=1}^{\infty}\int_{E_{n}}f(x)\mathrm{d}x
\end{align}
$$

> 有限个积分域可以看作是可列个积分域的特殊情形 (取后面的 $E_{n}$ 为  $\emptyset$).

**推论**. 若可测集 $E$ 和 $F$ 相差一个零测度集 (即 $E-F$ 和 $F-E$ 都是零测度集), 则对于 $E$, $F$ 上的可测函数 $f$, 有 $\int_{E}f(x)\mathrm{d}x=\int_{F}f(x)\mathrm{d}x$.

证明: 可知 $E$, $F$ 和 $E\cup F$ 都只差一个零测度集. 则由积分域的可加性
$$
\int_{E\cup F}f(x)\mathrm{d}x =\int_{E}f(x)\mathrm{d}x +\int_{F-E}f(x)\mathrm{d}x
$$
因为 $F-E$ 是零测度集, 由定理4.2.4可知, $\int_{F-E}f(x)\mathrm{d}x=0$, 所以 $\int_{E\cup F}f(x)\mathrm{d}x =\int_{E}f(x)\mathrm{d}x$. 同理可证 $\int_{E\cup F}f(x)\mathrm{d}x=\int_{F}f(x)\mathrm{d}x$, 证毕.

**定理4.3.4**. (Fatou) 设 $\{f_{n}\}$ 是 $E$ 上的非负可测函数列, 则
$$
\int_{E}\underline{\lim}\limits_{n\rightarrow \infty}f_{n}(x)\mathrm{d}x \leq \underline{\lim}\limits_{n\rightarrow \infty}\int_{E}f_{n}(x)\mathrm{d}x
$$
证明: 对于任意 $n$, 定义 $g_{n}(x)=\inf\limits_{k\geq n}f_{k}(x)$, 易证 $g_{n}$ 是单调递增的, $0\leq g_{n}(x)\leq f_{n}(x)$, $\forall x\in E$, 且 $\lim\limits_{n\rightarrow \infty}g_{n}=\underline{\lim}\limits_{n\rightarrow \infty}f_{n}(x)$, 进而有

$$
\int_{E}\underline{\lim}\limits_{n\rightarrow \infty}f_{n}(x)\mathrm{d}x = \int_{E}\lim\limits_{n\rightarrow \infty}g_{n}(x)\mathrm{d}x = \lim\limits_{n\rightarrow \infty}\int_{E}g_{n}(x)\mathrm{d}x
$$
因为 $g_{n}$ 是单调递增的, 所以 $g_{n}=\inf\limits_{k\geq n}g_{n}$, 由积分的单调性, $\int_{E}g_{n}(x)\mathrm{d}x=\inf\limits_{k\geq n}\int_{E} g_{k}(x)\mathrm{d}x$, 进一步得到
$$
\begin{align}
\lim\limits_{n\rightarrow \infty}\int_{E}g_{n}(x)\mathrm{d}x &= \lim\limits_{n\rightarrow \infty}\inf\limits_{k\geq n}\int_{E}g_{n}(x)\mathrm{d}x \\
&\leq \lim\limits_{n\rightarrow \infty}\inf\limits_{k\geq n} \int_{E}f_{k}(x)\mathrm{d}x \\
&= \underline{\lim}\limits_{n\rightarrow \infty}\int_{E}f_{n}(x)\mathrm{d}x
\end{align}
$$

>Fatou定理中不等号是可能成立的, 例如: 定义 $\mathbb{R}^{1}$ 上的函数列 $\{f_{n}\}$, $f_{n}=n\chi_{(0, \frac{1}{n})}(x)$, 易证 $\{f_{n}\}$ 是 $\mathbb{R}^{1}$ 上的函数列, 并且 $\lim\limits_{n\rightarrow \infty} f_{n}(x)=0$, $\forall x\in \mathbb{R}^{1}$, 此时有
>$$
>\int_{\mathbb{R}^{1}}\lim\limits_{n\rightarrow \infty} f_{n}(x)\mathrm{d}x=0\lt 1=\lim\limits_{n\rightarrow \infty}\int_{\mathbb{R}^{1}}f_{n}(x)\mathrm{d}x
>$$

**定理4.3.5**. (控制收敛定理)若 $f$, $g$ 是可测集 $E$ 上的可测函数, 且 $g\in L(E)$, $\{f_{n}\}$ 是 $E$ 上的可测函数列, $|f_{n}|\leq g$, a.e., $\forall n\in \mathbb{N}^{+}$且 $f_{n}\rightarrow f$ a.e. (或 $f_{n}\stackrel{\mathrm{m}}{\longrightarrow} f$),  则 $\{f_{n}\}, f\in L(E)$ , 且
$$
\lim\limits_{n\rightarrow \infty}\int_{E}|f_{n}(x)-f(x)|\mathrm{d}x=0
$$
证明: 由于在 $E$ 上 $f_{n}\leq g$, a.e., $\forall n\in \mathbb{N}^{+}$, 易证 $|f|\leq g$, a.e., 又因为 $g\in L(E)$, 所以 $\{f_{n}\}, f\in L(E)$. 对于剩余部分, 先证明 $f_{n}\rightarrow f$  a.e. 于 $E$ 的情形: $|f_{n}-f|\leq |f_{n}|+|f|\leq 2g$, 构造函数列 $h_{n}=2g-|f_{n}-f|$, 则易证 $h_{n}\geq 0$, $\lim\limits_{n\rightarrow \infty}h_{n}=2g$ a.e. 于 $E$ , 由定理4.2.4, 有
$$
\int_{E}\lim\limits_{n\rightarrow \infty}h_{n}(x)\mathrm{d}x = \int_{E}2g(x)\mathrm{d}x
$$
另外, 利用Fatou定理, 得到
$$
\begin{align}
\int_{E}\lim\limits_{n\rightarrow \infty}h_{n}(x)\mathrm{d}x = &\int_{E}\lim\limits_{n\rightarrow \infty}(2g(x)-|f_{n}(x)-f(x)|)\mathrm{d}x\\
&\leq \underline{\lim}\limits_{n\rightarrow \infty}\int_{E}(2g(x)-|f_{n}(x)-f(x)|)\mathrm{d}x \\
&= \lim\limits_{n\rightarrow \infty} \inf_{k\geq n}\int_{E}(2g(x)-|f_{k}(x)-f(x)|)\mathrm{d}x \\
&= \int_{E}2g(x)\mathrm{d}x + \lim\limits_{n\rightarrow \infty}\inf_{k\geq n}\{-\int_{E}|f_{k}(x)-f(x)|\mathrm{d}x \} \\
&= \int_{E}2g(x)\mathrm{d}x - \lim\limits_{n\rightarrow \infty}\sup_{k\geq n}\int_{E}|f_{k}(x)-f(x)|\mathrm{d}x \\
&=\int_{E}2g(x)\mathrm{d}x -\overline{\lim}\limits_{n\rightarrow \infty} \int_{E}|f_{k}(x)-f(x)|\mathrm{d}x
\end{align}
$$
二者联立, 可得
$$
\overline{\lim}\limits_{n\rightarrow \infty} \int_{E}|f_{k}(x)-f(x)|\mathrm{d}x=0
$$
进而 $0\leq \underline{\lim}\limits_{n\rightarrow \infty} \int_{E}|f_{k}(x)-f(x)|\mathrm{d}x\leq \overline{\lim}\limits_{n\rightarrow \infty} \int_{E}|f_{k}(x)-f(x)|\mathrm{d}x=0$, $\underline{\lim}\limits_{n\rightarrow \infty} \int_{E}|f_{k}(x)-f(x)|\mathrm{d}x=0$, 所以 $\int_{E}|f_{n}(x)-f(x)|\mathrm{d}x$ 在 $n\rightarrow \infty$ 时极限存在, 且 $\lim\limits_{n\rightarrow \infty}\int_{E}|f_{n}(x)-f(x)|\mathrm{d}x=0$.

当 $f_{n}\stackrel{\mathrm{m}}{\longrightarrow} f$ 时, 若该命题不成立, 则存在 $\epsilon\gt 0$, 使得对任意 $k\in \mathbb{N}^{+}$, 存在 $n_{k}$, 使得当 $n\geq n_{k}$ 时, $\int_{E}|f_{n}(x)-f(x)|\mathrm{d}x\geq \epsilon$, 取 $f_{N_{k}}$ 得到一个新的函数列 $\{f_{n_{k}}\}$, 由 Riesz 定理, 其存在一子列 $\{f_{n_{k'}}\}$ 使得 $f_{n_{k'}}\rightarrow f$ a.e. 于 $E$ , 由上面所证的结论可知
$$
\lim\limits_{k\rightarrow \infty}\int_{E}|f_{n_{k'}}(x)-f(x)|\mathrm{d}x=0
$$
产生矛盾, 因此命题成立.

推论. (1) 
$$
\lim\limits_{n\rightarrow \infty}\int_{E}f_{n}(x)\mathrm{d}x = \int_{E}f(x)\mathrm{d}x
$$
(2)  $f$ 是可测集 $E$ 上的可测函数, $\{f_{n}\}$ 是 $E$ 上几乎处处有界的可测函数列(即存在 $M$ 使得 $|f_{n}|\leq M$, $\forall n\in \mathbb{N}^{+}$), 且 $f_{n}\rightarrow f$ a.e. (或 $f_{n}\stackrel{\mathrm{m}}{\longrightarrow} f$) 于 $E$ ,  则 $\{f_{n}\}, f\in L(E)$ , 且
$$
\lim\limits_{n\rightarrow \infty}\int_{E}|f_{n}(x)-f(x)|\mathrm{d}x=0
$$


证明: (1)
$$
\bigg|\int_{E}f_{n}(x)\mathrm{d}x - \int_{E}f(x)\mathrm{d}x\bigg|= \bigg|\int_{E}f_{n}(x)-f(x)\mathrm{d}x\bigg| \leq \int_{E}|f_{n}(x)-f(x)|\mathrm{d}x
$$
令 $n\rightarrow \infty$, 得
$$
\bigg|\lim\limits_{n\rightarrow \infty}\int_{E}f_{n}(x)\mathrm{d}x - \int_{E}f(x)\mathrm{d}x\bigg|=0
$$

证毕.

(2) 令控制收敛定理中的 $g(x)\equiv M$ 即可得出此结论.

# 4.4 Riemann 积分和 Lebesgue 积分

## 4.4.1 Riemann 积分的可积性

**定义**. 若闭区间 $[a,b]$ 有 $n-1$ 个点:
$$
a=x_{0}\lt x_{1}\lt \cdots\lt x_{n-1}\lt x_{n} =b
$$
把区间分成 $n$ 份, 记 $\Delta_{i}=[x_{i-1},x_{i}]$, 则称这些分点和子区间构成 $[a,b]$ 的一个分割, 记为  $T=\{x_{0},\dots,x_{n}\}$ 或 $T=\{\Delta_{1},\dots,\Delta_{n}\}$. 记 $\Delta x_{i}= x_{i}-x_{i-1}$, $i=1,\dots, n$, 定义
$$
\parallel  T\parallel =\max\limits_{i}\Delta x_{i}
$$
为分割 $T$ 的细度.

**定义**. $f(x)$ 是定义在 $[a,b]$ 上的函数, 对于 $[a,b]$ 上的任一分割 $T=\{\Delta_{1},\dots,\Delta_{n}\}$, 和任意点列 $\{\xi_{i}\}$, $\xi_{i}\in \Delta_{i}$, $i=1,\dots,n$, 定义和式
$$
\sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i}
$$
为 $f(x)$ 在 $[a,b]$ 上的一个黎曼和. 如果当 $\parallel T\parallel \rightarrow 0$ 时, 黎曼和的极限存在, 则称其为 $f(x)$ 在 $[a,b]$ 上的黎曼定积分, 记为 $\int_{a}^{b}f(x)\mathrm{d}x$, 称 $f(x)$ 在 $[a,b]$ 上黎曼可积.

>  黎曼定积分的等价定义: 若存在实数 $J$, 使得对于 $\forall \epsilon\gt 0$, 存在 $\delta\gt 0$, 使得对任意 $T=\{\Delta_{1},\dots,\Delta_{n}\}$, $\parallel T \parallel\leq \delta$, 和任意点列 $\{\xi_{i}\}$, $\xi_{i}\in \Delta_{i}$, $i=1,\dots,n$, 有
>  $$
>  |\sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i}-J|\leq \epsilon
>  $$
>  则称 $J$ 为 $f(x)$ 在 $[a,b]$ 上的黎曼定积分.



设 $m_{i}=\min\limits_{x\in \Delta_{i}}f(x)$, $M_{i}=\max\limits_{x\in \Delta_{i}}f(x)$, $i=1,\dots,n$, 定义和式
$$
\sum\limits_{i=1}^{n}m_{i}\Delta x_{i}, \quad \sum\limits_{i=1}^{n}M_{i}\Delta x_{i}
$$
为 $f(x)$ 在 $[a,b]$ 上关于分割 $T$ 的达布下和和达布上和, 分别记为 $s(T)$ 和 $S(T)$.

显然, 对于任意的分割 $T$, $s(T)\leq\sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i} \leq S(T)$, $\forall \{\xi_{i}\}$, $\xi_{i}\in \Delta_{i}$, $i=1,\dots,n$, 且 $s(T)$ 在 $\xi_{i}=\mathop{\mathrm{argmin}}\limits_{x\in \Delta_{i}}f(x)$, $1\leq i\leq n$ 时取到, $S(T)$ 在 $\xi_{i}=\mathop{\mathrm{argmax}}\limits_{x\in \Delta_{i}}f(x)$, $1\leq i\leq n$ 时取到.

**定理4.4.1**. $f(x)$ 在 $[a,b]$ 上可积, 则 $f(x)$ 必然有界.

证明: 我们接下来证明: 若 $f(x)$ 在 $[a,b]$ 上无界, 则对任意 $M\gt 0$, 存在满足 $\parallel T \parallel\leq \delta$ 的分割 $T=\{\Delta_{1},\dots,\Delta_{n}\}$, 和 $T$ 上的点列 $\{\xi_{i}\}$, $\xi_{i}\in \Delta_{i}$, $i=1,\dots,n$, 使得黎曼和满足 $|\sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i}|\geq M$.

任取满足 $\parallel T \parallel\leq \delta$ 的分割 $T=\{\Delta_{1},\dots,\Delta_{n}\}$, 因为 $f(x)$ 在 $[a,b]$ 上无界, 因此它必然在至少一个子区间 (记为 $\Delta_{k}$) 上无界. 在除 $\Delta_{k}$ 外的各个子区间上分别任取一点, 得到 $\{\xi_{i}\}$,  $\xi_{i}\in \Delta_{i}$, $1\leq i\leq n$, $i\neq k$, 记 $|\sum\limits_{i=1\atop i\neq k}^{n}f(\xi_{i})\Delta x_{i}|= G$. 由于 $f(x)$ 在 $\Delta_{k}$ 上无界, 因此对于任意 $N\gt 0$, 存在 $\xi\in \Delta_{k}$, $|f(\xi)|\geq N$, 此时 $|\sum\limits_{i=1\atop a\neq k}^{n}f(\xi_{i})\Delta x_{i}+f(\xi_{i})\Delta x_{i}|\geq|f(\xi)\Delta_{k}|-|\sum\limits_{i=1\atop i\neq k}^{n}f(\xi_{i})\Delta x_{i}|= N\Delta x_{k} - G$, 对于 $N=\frac{M+G}{\Delta x_{k}}$, 此时 $|\sum\limits_{i=1\atop a\neq k}^{n}f(\xi_{i})\Delta x_{i}+f(\xi_{i})\Delta x_{i}|\geq M$, 取 $\xi_{k}=\xi$, 得到点列 $\{\xi_{i}\}$, 黎曼和 $|\sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i}|\geq M$.

**定理4.4.2**. 若分割 $T'$ 是在分割 $T$ 的基础上增加 $p$ 个分点得到的, 则
$$
s(T)+(M-m)p \parallel T \parallel \geq s(T') \geq s(T)
$$

$$
S(T)-(M-m)p \parallel T \parallel \leq S(T') \leq S(T)
$$

证明: 我们证明 $S(T)-(M-m)p \parallel T \parallel \leq S(T') \leq S(T)$, 关于 $s(T)$ 的结论可类似证明.

当 $p=1$ 时, 设新增的分点在第 $k$ 个子区间, 达布上和中这一区间对应的项变为
$$
M_{i}\Delta x_{i}\rightarrow M_{i}'\Delta x_{i}'+ M_{i}''\Delta x_{i}''
$$
这里 $M_{i}'$ 和 $M_{i}''$ 分别是插入分点左侧和右侧的区间上的最大值, $\Delta x_{i}'$ 和 $\Delta x_{i}''$ 分别是插入分点左侧和右侧的区间长度. 显然  $M_{i}'$ 和 $M_{i}''$ 都不超过 $M$, 两项做差
$$
M_{i}\Delta x_{i}- M_{i}'\Delta x_{i}'+ M_{i}''\Delta x_{i}''=(M_{i}-M_{i}')\Delta x_{i}'+(M_{i}-M_{i}'')\Delta x_{i}'' \leq 0
$$
由于 $M_{i}-M_{i}'\geq M_{i}-m_{i}$, $M_{i}-M_{i}''\geq M_{i}-m_{i}$, $\Delta x_{i}'\leq \parallel T \parallel$, $\Delta x_{i}'' \leq  \parallel T \parallel$

因此 $S(T)-(M-m) \parallel T \parallel \leq S(T') \leq S(T)$

若 $p=n-1$ 时成立, 求证 $p=n$ 时成立: 设插入 $n-1$ 个分点后得到 $T^{n-1}$
$$
S(T)-(M-m) (n-1) \parallel T \parallel \leq S(T^{n-1}) \leq S(T)
$$
此时再插入一点, 得到 $T^{n}$, 由 $p=1$ 的结论, 有
$$
S(T^{n-1})-(M-m) \parallel T^{n-1} \parallel \leq S(T^{n}) \leq S(T^{n-1})
$$
由于 $\parallel T^{n-1} \parallel\leq \parallel T \parallel$, 再结合 $p=n-1$ 时的结论, 有
$$
S(T)-(M-m)n \parallel T \parallel \leq S(T^{n}) \leq S(T)
$$
证毕.

**定理4.4.3**. 对于任意分割 $T$ 和 $T'$, $T'$ 的达布上和不会低于 $T$ 的达布下和, 达布下和不会高于 $T$ 的达布上和, 即
$$
s(T')\leq S(T)
$$

$$
S(T') \geq s(T)
$$

证明:

设 $T$ 和 $T'$ 的分点合并后得到 $T+T'$, 根据定理4.4.2, 有
$$
s(T') \leq s(T+T')\leq S(T+T')\leq S(T)
$$

$$
s(T) \leq s(T+T')\leq S(T+T')\leq S(T')
$$

证毕.

对任意的分割 $T$, 以及任意点列 $\{\xi_{i}\}$, $\xi_{i}\in \Delta_{i}$, $i=1,\dots,n$, 有 $m(b-a)\leq s(T)\leq \sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i}\leq S(T)\leq M(b-a)$, 因此 $s(T)$ 有上界, $S(T)$ 有下界, 进而 $s(T)$ 有上确界, $S(T)$ 有下确界.

定义. 分别称 $s=\sup\limits_{T} s(T)$, $S=\sup\limits_{T} S(T)$ 为下积分和上积分.

**定理4.4.4**. $s=\lim\limits_{\parallel T \parallel\rightarrow 0} s(T)$, $S=\lim\limits_{\parallel T \parallel\rightarrow 0} S(T)$

证明: 证明 $S=\lim\limits_{\parallel T \parallel\rightarrow 0} S(T)$, 关于 $s(T)$ 的结论可类似证明.

即证: 对于 $\forall \epsilon \gt 0$, 存在 $\delta\gt 0$, 对于任意的分割 $T$, $\parallel T \parallel\leq \delta$, 必有
$$
S(T)-S\leq \epsilon
$$
由下确界的定义, 对于任意 $\epsilon'\gt 0$, 必然存在分割 $T$,  使得 $S\leq S(T)\leq S+\epsilon'$, 

对于任意分割 $T'$, 设 $T$ 和 $T'$ 合并后的分割为 $T+T'$, 由定理4.4.2, 有
$$
S(T')-(M-m)p_{T'}\parallel T'\parallel\leq S(T+T')\leq S(T')
$$

$$
S(T)-(M-m)p_{T}\parallel T\parallel\leq S(T+T')\leq S(T)
$$

因此 $S(T')\leq S(T+T') + (M-m)p_{T'}\parallel T'\parallel\leq S(T) + (M-m)p_{T'}\parallel T'\parallel$

对于任意 $\parallel T\parallel\leq \frac{\epsilon}{(M-m)p_{T'}}$, 有
$$
S(T')\leq S(T)+\epsilon' \leq S+2\epsilon'
$$
特别地, 对于 $\epsilon'=\frac{\epsilon}{2}$, 此时
$$
S(T)-S\leq \epsilon
$$
证毕.

**定理4.4.5**. $f(x)$ 在 $[a,b]$ 上黎曼可积的充要条件是: (1) $s=S$; (2) 对于任意 $\epsilon\gt 0$, 存在分割 $T$ 使得 $S(T)-s(T)\leq \epsilon$.

证明: (1) 充分性: 记 $s=S=J$. 对于 $\forall \epsilon\gt 0$, 由上确界和下确界的定义, 必然存在 $\delta \gt 0$, 对于任意分割 $T=\{\Delta_{1},\dots,\Delta_{n}\}$, $\parallel T \parallel\leq \delta$, 有
$$
J-\epsilon\leq s(T)\leq s\leq S \leq S(T) \leq J+\epsilon
$$
此时对于任意点列 $\{\xi_{i}\}$, $\xi_{i}\in \Delta_{i}$, $i=1,\dots,n$, 有 
$$
J-\epsilon \leq s(T)\leq \sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i} \leq S(T)\leq J+\epsilon
$$
即 $|\sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i} -J|\leq \epsilon$, 则 $f(x)$ 在 $[a,b]$ 上黎曼可积, 证毕.

必要性: 存在实数 $J$, 使得对于 $\forall \epsilon\gt 0$, 存在 $\delta\gt 0$, 使得对于任意分割 $T=\{\Delta_{1},\dots,\Delta_{n}\}$, $\parallel T \parallel\leq \delta$ , 和任意点列 $\{\xi_{i}\}$, $\xi_{i}\in \Delta_{i}$, $i=1,\dots,n$, 有
$$
|\sum\limits_{i=1}^{n}f(\xi_{i})\Delta x_{i}-J|\leq \epsilon
$$
$s(T)$ 和 $S(T)$ 也是 $T$ 的黎曼和, 因此有 $|s(T)-J|\leq \epsilon$, $|S(T)-J|\leq \epsilon$. 所以 $\lim\limits_{\parallel T\parallel \rightarrow 0}s(T)=\lim\limits_{\parallel T\parallel \rightarrow 0}S(T)=J$, 即 $s=S=J$, 证毕. 

(2) 充分性: 对于任意 $\epsilon\gt 0$, 存在分割 $T$ 使得 $|S-s|\leq|S(T)-s(T)|\leq \epsilon$. 由 $\epsilon$ 的任意性, $S=s$, 由(1)的结论, $f(x)$ 在 $[a,b]$ 上黎曼可积.

必要性: 若 $f(x)$ 在 $[a,b]$ 上黎曼可积, 则由(1)的结论, $s=S$, 即 $\lim\limits_{\parallel T \parallel\rightarrow 0} s(T)=\lim\limits_{\parallel T \parallel\rightarrow 0} S(T)$, 所以 $\lim\limits_{\parallel T \parallel\rightarrow 0} S(T)-s(T)=0$. 对于任意 $\epsilon\gt 0$, 存在 $\delta\gt 0$, 使得对于任意的分割 $T$, $\parallel T \parallel\leq \delta$, 有 $S(T)-s(T)\leq \epsilon$.

推论. 由(1)的证明过程可以得到: 当  $f(x)$ 在 $[a,b]$ 上黎曼可积时, $\int_{a}^{b}f(x)\mathrm{d}x=S=s$.

## 4.4.2 借助 Lebesgue 积分讨论 Riemann 积分的可积性

**定义**. 由于可积的必要条件是有界, 因此我们把研究的范围限定在有界实值函数上, 此外, 为了方便分析, 我们再补充一些定义. 在分割 $T$ 的达布上和和下和的基础上定义简单函数
$$
u_{T}(a)=a, \ u_{T}(x)=m_{i}, \, x\in (x_{i-1},x_{i}]  
$$

$$
U_{T}(a)=a, \ U_{T}(x)=M_{i}, \, x\in (x_{i-1},x_{i}]
$$

显然有
$$
(L)\int_{a}^{b}u_{T}(x)\mathrm{d}x=\sum\limits_{i=1}^{n}m_{i}\Delta x_{i}=s(T), \quad (L)\int_{a}^{b}U_{T}(x)\mathrm{d}x=\sum\limits_{i=1}^{n}M_{i}\Delta x_{i}=S(T)
$$

$$
\inf_{x\in [a,b]}f(x)\leq u_{T}(x) \leq f(x)\leq U_{T}(x) \leq \sup_{x\in [a,b]}f(x)
$$

易证, 对于一列逐渐加细 ($\parallel T\parallel\rightarrow 0$) 的分割 $\{T_{n}\}$, $\{u_{T_{n}}\}$ (下文简写为 $u_{n}$) 是单调递增简单函数列,  $\{U_{T_{n}}\}$ (下文简写为 $U_{n}$) 是单调递减简单函数列, 因此它们的极限函数可测, 分别记为 $u(x)$, $U(x)$. 因为 $u_{n}(x) \leq f(x) \leq U_{n}(x)$, $\forall x\in [a,b]$ 所以 $u(x)\leq f(x)\leq U(x)$, $\forall x\in [a,b]$. 此外, 由于 $f(x)$ 有界, 可知 $\{u_{n}\}$, $\{U_{n}\}$ 是有界函数列, 进而可知它们的极限 $u(x)$ 和 $U(x)$ 都是有界函数. 在此基础上, 我们还可以得出如下结论:

**定理4.4.6**. 对于有界实值函数 $f(x)$, $u(x_{0})=U(x_{0})=f(x_{0})$ 的充要条件是 $f(x)$ 在 $x_{0}$ 点处连续.

证明: 充分性: 由 $f(x)$ 的连续性可知, 对于 $\forall \epsilon\gt 0$, $\exists \delta\gt 0$, 当 $|x-x_{0}|\leq \delta$ 时, $|f(x)-f(x_{0})|\leq \epsilon$.

由于分割逐渐加细, 所以必然存在正整数 $N$, 使得对于任意 $n\geq N$, $T_{n}$ 存在一个子区间 $[x_{i-1}^{n}, x_{i}^{n}]$, 使得 $(x_{i-1}^{n}, x_{i}^{n})\subset (x_{0}-\delta, x_{0}+\delta)$, 此时 $|u_{n}(x_{0})-f(x_{0})|\leq \epsilon$. 同理可证存在 $N'$, 使得对于任意 $n\geq N'$, $|U_{n}(x_{0})-f(x_{0})|\leq \epsilon$. 因此 $\lim\limits_{n\rightarrow \infty}u_{n}(x_{0})=\lim\limits_{n\rightarrow \infty}U_{n}(x_{0})=f(x_{0})$ , 即 $u(x_{0})=U(x_{0})=f(x_{0})$. 

必要性: 即证: 对于 $\forall \epsilon \gt 0$, $\exists \delta\gt 0$, 使得当 $|x-x_{0}|\leq \delta$ 时, $|f(x)-f(x_{0})|\leq \epsilon$.. $u(x_{0})=U(x_{0})=f(x_{0})$ 即 $\lim\limits_{n\rightarrow \infty}u_{n}(x_{0})=\lim\limits_{n\rightarrow \infty}U_{n}(x_{0})=f(x_{0})$.,由此可知对于 $\epsilon$, $\exists N$, 对于任意 $n\geq N$, $|u_{n}(x_{0})-U_{n}(x_{0})|\leq \epsilon$, 设 $x_{0}$ 在 $T_{N}$ 的子区间 $[x_{i-1}^{N},x_{i}^{N}]$ 中, 所以对于 $x\in [x_{i-1}^{N},x_{i}^{N}]$, $|f(x)-f(x_{0})|\leq |u_{N}(x_{0})-U_{N}(x_{0})|\leq \epsilon$, 令 $\delta=\min\{|x_{i-1}^{N}-x_{0}|,|x_{i}^{N}-x_{0}|\}$, 当 $|x-x_{0}|\leq \delta$ 时, $|f(x)-f(x_{0})|\leq \epsilon$.

**定理4.4.7**. 有界实值函数 $f(x)$ 在 $[a,b]$ 上黎曼可积的充要条件是 (1) $U(x)=u(x)$, a.e. 于 $[a,b]$, (2) $f(x)$ 在 $[a,b]$ 上几乎处处连续.

证明: $\{u_{n}(x)\}\uparrow u(x)$, $\{U_{n}(x)\}\downarrow U(x)$, 由于 $f(x)$ 有界, 因此存在 $m$ 和 $M$ 使得 $m\leq f(x) \leq M$, 显然对每个 $u_{n}(x)$ 和 $U_{n}(x)$, 它们也在这个区间内, 进而 $u(x)$ 和 $U(x)$ 也在这个区间内, 因此由有界收敛定理, 有
$$
(L)\int_{a}^{b}U(x)\mathrm{d}x=\lim\limits_{n\rightarrow \infty} \int_{a}^{b} U_{n}(x)\mathrm{d}x= \lim\limits_{n\rightarrow \infty} S(T_{n})=\lim\limits_{\parallel T\parallel\rightarrow 0} S(T_{n})=S
$$

$$
(L)\int_{a}^{b}u(x)\mathrm{d}x=\lim\limits_{n\rightarrow \infty} \int_{a}^{b} u_{n}(x)\mathrm{d}x= \lim\limits_{n\rightarrow \infty} s(T_{n})=\lim\limits_{\parallel T\parallel\rightarrow 0} s(T_{n})=s
$$

Riemann可积 $\iff$ $S=s$ $\iff$ $(L)\int_{a}^{b}U(x)\mathrm{d}x=(L)\int_{a}^{b}u(x)\mathrm{d}x$ $\iff$ $(L)\int_{a}^{b}U(x)-u(x)\mathrm{d}x=0$ $\iff$ $U(x)=u(x)$ a.e. 于 $[a,b]$ $\iff$ $f(x)$ 在 $[a,b]$ 上几乎处处连续.

## 4.4.3 Lebesgue 积分是 Riemann 积分的推广

**定理4.4.8**. 若 $f$ 在 $[a,b]$ 上是黎曼可积的, 则 $f\in L([a,b])$, 且
$$
(R)\int_{a}^{b}f(x)\mathrm{d}x=(L)\int_{a}^{b}f(x)\mathrm{d}x
$$
证明: 由定理4.4.7, $U(x)=u(x)$ a.e. 于 $[a,b]$, 结合 $u(x)\leq f(x)\leq U(x)$, $\forall x\in [a,b]$, 可推出 $f=u=U$ a.e.于 $[a,b]$, 由 $u$ 和 $U$ 可测可知 $f$ 可测, 黎曼可积函数又必然有界, 因此 $f\in L([a,b])$. 因为 $f$ 有界, 所以 $\{u_{n}\}$ 和 $\{U_{n}\}$ 都是有界函数, 所以由有界收敛定理可知
$$
\begin{align}
(L)\int_{a}^{b}f(x)\mathrm{d}x &=(L)\int_{a}^{b}u(x)\mathrm{d}x=\lim\limits_{n\rightarrow \infty}(L)\int_{a}^{b}u_{n}(x)\mathrm{d}x\\
&=\lim\limits_{\parallel T\parallel\rightarrow 0} s(T_{n})=s =(R)\int_{a}^{b}f(x)\mathrm{d}x
\end{align}
$$

# 4.5 Lebesgue 积分的逼近性

**定理4.5.1**. $E$ 是 $\mathbb{R}^{n}$ 上的可测集, $f\in L(E)$, 则对于 $\forall \epsilon\gt 0$, 存在 $E$ 上的简单函数 $g$, $|g|\leq |f|$ 且 $g\in L(E)$, 使得
$$
\int_{E}|f(x)-g(x)|\mathrm{d}x\leq \epsilon
$$
证明: 根据定理3.3.2, 存在简单函数列 $\{f_{n}\}$, $f_{n}\rightarrow f$, 且 $|f_{n}|\leq |f|$, 进而有 $|f_{n}-f|\leq |f_{n}|+|f|\leq 2|f|$, 因为 $f\in L(E)$, 所以 $|f|\in L(E)$, 由控制收敛定理可知
$$
\lim\limits_{n\rightarrow \infty} \int_{E} |f_{n}(x)-f(x)| \mathrm{d}x = \int_{E}\lim\limits_{n\rightarrow \infty}|f_{n}(x)-f(x)|\mathrm{d}x=0
$$
对于 $\forall \epsilon\gt 0$, $\exists N\in\mathbb{N}^{+}$, 使得当 $n\geq N$ 时, 有 
$$
\int_{E} |f_{n}(x)-f(x)| \mathrm{d}x \leq \epsilon
$$
取 $g=f_{n}$, $n\geq N$ 即可.

**定理4.5.2**. $E$ 是 $\mathbb{R}^{n}$ 上的可测集, $g$ 是 $E$ 上的几乎处处有限的可测函数, 则对于 $\forall \epsilon\gt 0$, 存在 $\mathbb{R}^{n}$ 上的有界连续函数 $\phi$, $\sup\limits_{x\in \mathbb{R}^{n}}|\phi(x)|\leq \sup\limits_{x\in E}|g(x)|$ 且 $\phi\in L(E)$, 使得
$$
\int_{E}|g(x)-\phi(x)|\mathrm{d}x\leq \epsilon
$$
证明:  由 Lusin 定理, 对于 $\forall \epsilon \gt 0$, 存在 $\mathbb{R}^{n}$ 上的连续函数 $\phi$, 使得 $\sup\limits_{x\in \mathbb{R}^{n}}|\phi(x)|\leq \sup\limits_{x\in E}|g(x)|$, 使得
$$
m\big(E(\phi\neq g)\big)\leq \delta
$$
进而有
$$
\int_{E} |\phi(x)-g(x)| \mathrm{d}x = \int_{E(\phi\neq g)} |\phi(x)-g(x)| \mathrm{d}x \leq 2\sup_{x\in E}|g(x)|\delta
$$
取 $\delta=\frac{\epsilon}{2\sup_{x\in E}|g|}$, 此时 $\int_{E} |\phi(x)-g(x)| \mathrm{d}x \leq \epsilon$, $|\phi-g|\leq |\phi|+|g|\leq 2|g|\leq 2\sup_{x\in E}|g|$, 由有界收敛定理, 可知 $|\phi-g|\in L(E)$, 进而 $(\phi-g) \in L(E)$, $\phi=[(\phi-g)+g]\in L(E)$.

**定理4.5.3**. $\phi$ 是 $\mathbb{R}^{n}$ 上的有界连续函数, 则对于 $\forall \epsilon\gt 0$, 存在在 $\mathbb{R}^{n}$ 上具有紧支集的有界连续函数 $h$, $|h|\leq |\phi|$ 且 $h\in L(E)$, 使得
$$
\int_{E}|\phi(x)-h(x)|\mathrm{d}x\leq \epsilon
$$
证明: 定义
$$
\lambda_{k}(x)=\begin{cases}
&1 & x\in \overline{U(0,k)}\\
&0 & x\notin \overline{U(0,k)}
\end{cases}
$$
构造函数列 $\{h_{k}\}$, $h_{k}=\phi_{k}\lambda_{k}$, 显然 $h_{k}$ 具有紧支集, $h_{k}\rightarrow \phi$, 且 $|h_{k}|\leq |\phi|$, 所以由控制收敛定理, $h_{k}\in L(E)$, $\forall k$, 且
$$
\lim\limits_{n\rightarrow \infty} \int_{E} |h_{k}(x)-\phi(x)| \mathrm{d}x = \int_{E}\lim\limits_{n\rightarrow \infty}|h_{k}(x)-\phi(x)|\mathrm{d}x=0
$$
所以对于 $\epsilon$, 存在 $K\in \mathbb{N}^{+}$, 当 $k\geq K$ 时,
$$
\int_{E} |h_{k}(x)-\phi(x)| \mathrm{d}x \leq \epsilon
$$
易验证取 $h=h_{h_{k}}$, $k\geq K$ 均满足要求, 证毕.

结合前面三个定理, 可以得到如下结论:
**定理4.5.4**. (推论) $E$ 是 $\mathbb{R}^{n}$ 上的可测集,  $f\in L(E)$, 则对于 $\forall \epsilon\gt 0$, 存在在 $\mathbb{R}^{n}$ 上具有紧支集的有界连续函数 $h$, $\sup\limits_{x\in \mathbb{R}^{n}}|h(x)|\leq \sup\limits_{x\in E}|f(x)|$ 且 $h\in L(E)$, 使得
$$
\int_{E}|f(x)-h(x)|\mathrm{d}x\leq \epsilon
$$
证明: 对于 $\forall\epsilon_{1}\gt 0$, 存在 $E$ 上的简单函数 $g$, $|g|\leq |f|$ 且 $g\in L(E)$, 使得
$$
\int_{E}|f(x)-g(x)|\mathrm{d}x\leq \epsilon_{1}
$$
对于 $\forall\epsilon_{2}\gt 0$, 存在 $\mathbb{R}^{n}$ 上的有界连续函数 $\phi$, $\sup\limits_{x\in \mathbb{R}^{n}}|\phi(x)|\leq \sup\limits_{x\in E}|g(x)|$ 且 $\phi\in L(E)$, 使得
$$
\int_{E}|g(x)-\phi(x)|\mathrm{d}x\leq \epsilon_{2}
$$
对于 $\forall\epsilon_{3}\gt 0$, 存在在 $\mathbb{R}^{n}$ 上具有紧支集的有界连续函数 $h$, $|h|\leq |\phi|$ 且 $h\in L(E)$, 使得
$$
\int_{E}|\phi(x)-h(x)|\mathrm{d}x\leq \epsilon_{3}
$$
特别地, 对于 $\epsilon_{1}=\epsilon_{2}=\epsilon_{3}=\frac{1}{3}\epsilon$, 此时有
$$
\int_{E}|f(x)-h(x)|\mathrm{d}x\leq\int_{E}|f(x)-g(x)|\mathrm{d}x+\int_{E}|g(x)-\phi(x)|\mathrm{d}x+\int_{E}|\phi(x)-h(x)|\mathrm{d}x\leq \epsilon
$$
同时 $\sup\limits_{x\in \mathbb{R}^{n}}|h(x)|\leq \sup\limits_{x\in E}|f(x)|$, 因此函数 $h$ 即满足要求, 证毕.
**定理4.5.5**.  $f$ 是在 $E\subset\mathbb{R}^{1}$ 上具有紧支集的连续函数, 则存在在 $\mathbb{R}^{1}$ 上具有紧支集的阶梯函数 $g$, 使得对于任意的 $\epsilon \gt 0$, 有
$$
\int_{E}|f(x)-g (x)|\mathrm{d}x\leq \epsilon
$$
证明: 连续必然一致连续, 因此对于任意 $\epsilon'\gt 0$, $\exists \delta\gt 0$, 对于任意 $x', x''\in E$, 当 $d(x',x'')\leq \delta$ 时, $|f(x')-f(x'')|\leq \epsilon'$. 由于 $f$ 具有紧支集, 因此存在 $[a,b]$, 使得 $f(x)=0$, $\forall x\in [a,b]^{C}$. 取 $[a,b]$ 的一个分割 $a= x_{0}\leq\cdots\leq x_{n}=b$, $\max\limits_{1\leq i\leq n}|x_{i-1}-x_{i}|\leq \delta$, 定义 $g(x)=\sum\limits_{i=1}^{n}f(x_{i})\chi_{(x_{i-1},x_{i}]}(x)$, 则 $g$ 是在 $\mathbb{R}^{1}$ 上具有紧支集的阶梯函数, $|g-f|\leq \epsilon'$, 且
$$
\int_{E}|f(x)-g (x)|\mathrm{d}x\leq \epsilon'(b-a)
$$
特别地, 对于 $\epsilon'=\frac{\epsilon}{b-a}$, 此时 $\int_{E}|f(x)-g (x)|\mathrm{d}x\leq \epsilon$, 则 $g$ 即满足要求, 证毕.

# 4.6 Lebesgue 积分的重积分与累次积分

**定义**. 设 $p$, $q$ 为正整数, $f(x,y)$ 为定义在 $\mathbb{R}^{p+q}=\mathbb{R}^{p}\times \mathbb{R}^{Q}$ 上的函数, 其中 $x\in \mathbb{R}^{p}$,  $y\in \mathbb{R}^{Q}$, 对几乎处处的 $x\in \mathbb{R}^{p}$, 将 $x$ 视为固定值, $f(x,y)$ 作为 $y$ 的函数在 $\mathbb{R}^{q}$ 上的积分存在, 记 $g(x)=\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y$, 可能对于一个零测度集上的 $x$ 积分不存在, 此时定义 $g(x)=0$. 若 $g(x)$ 在 $\mathbb{R}^{p}$ 上可测且积分存在, 则称 $\int_{\mathbb{R}^{p}}g(x)\mathrm{d}x$ 为 $f$ 的累次积分, 记为
$$
\int_{\mathbb{R}^{p}}\big(\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y\big)\mathrm{d}x
$$
或
$$
\int_{\mathbb{R}^{p}}\mathrm{d}x\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y
$$
类似地定义累次积分 $\int_{\mathbb{R}^{q}}\mathrm{d}y\int_{\mathbb{R}^{p}}f(x,y)\mathrm{d}x$.

**定义**. 称 $f(x,y)$ 在 $\mathbb{R}^{p+q}$ 上的积分 $\int_{\mathbb{R}^{p+q}}f(x,y)\mathrm{d}x\mathrm{d}y$ 为重积分.

**定义**. 设 $A\subseteq \mathbb{R}^{p}$, $B \subseteq \mathbb{R}^{q}$, 称 $A\times B$ (补充定义 $A$ 或 $B$ 为 $\emptyset$ 时, $A\times B=\emptyset$)为 $\mathbb{R}^{p+q}$ 中的矩形. 若 $A$, $B$ 都是可测集, 则称 $A\times B$ 为可测矩形.

**定义**. 设 $E\subseteq \mathbb{R}^{p}\times \mathbb{R}^{q}$, 对于 $\forall x\in \mathbb{R}^{p}$, 称集合 $E_{x}=\{y\in \mathbb{R}^{q}|(x,y)\in E\}$ 为 $E$ 在 $x$ 处的截口, 对于 $\forall y\in \mathbb{R}^{q}$, 称集合 $E_{y}=\{x\in \mathbb{R}^{p}|(x,y)\in E\}$ 为 $E$ 在 $y$ 处的截口.

对于截口, 显然有如下的性质成立:

若 $E=\bigcup\limits_{n=1}^{\infty}E_{n}$, 则 $E_{x}=\bigcup\limits_{n=1}^{\infty}(E_{n})_{x}$, $E_{y}=\bigcup\limits_{n=1}^{\infty}(E_{n})_{y}$, $(A-B)_{x}=A_{x}-B_{x}$

**定理4.6.1**. 设 $E$ 是 $\mathbb{R}^{p}\times\mathbb{R}^{q}$ 中的有界可测集 ($p,q$ 为整数), 则

(1) 对几乎处处的 $x\in \mathbb{R}^{p}$, $E_{x}$ 是 $\mathbb{R}^{q}$ 上的可测集.

(2) 若把 $m(E_{x})$ 视为一个关于 $x$ 的函数, 则 $m(E_{x})$ 是可测的, 且
$$
m(E)=\int_{\mathbb{R}^{p}}m(E_{x})\mathrm{d}x
$$
证明: (1) 证明满足条件 (1), (2) 的集类 (记为 $\mathscr{E}$) 对互不相交的可列并运算封闭.

设 $E_{1},\dots,E_{n}, \dots$ $\in \mathscr{E}$, 且互不相交, 证明 $E=\bigcup\limits_{n=1}^{\infty}E_{n}\in\mathscr{E}$

显然, $E_{x}=\bigcup\limits_{n=1}^{\infty}(E_{n})_{x}$, 而每个 $(E_{n})_{x}$ 在 $\mathbb{R}^{q}$ 上是可测的, 因此 $E_{x}$ 在 $\mathbb{R}^{q}$ 上可测. 由测度的可列可加性, $m(E_{x})=\sum\limits_{n=1}^{\infty}m(E_{n})_{x}$, 由于每个 $m\big((E_{n})_{x}\big)$ 可以视作一个关于 $x$ 的可测函数, 因此 $m(E_{x})$ 也可以. 集列 $\{\bigcup\limits_{i=1}^{n}E_{i}\}$ 是单调递增的集列且 $E=\lim\limits_{n \rightarrow \infty}\bigcup\limits_{i=1}^{n}E_{i}$, 所以由测度的上连续性可知, 
$$
m(E)=\lim\limits_{n \rightarrow \infty} m(\bigcup\limits_{i=1}^{n}E_{i}) =\lim\limits_{n \rightarrow \infty}\sum\limits_{i =1}^{n}m(E_{i})=\sum\limits_{i =1}^{\infty}\int_{\mathbb{R}^{p}}m\big((E_{i})_{x}\big)\mathrm{d}x
$$
再由逐项积分定理, 可知
$$
\sum\limits_{i =1}^{\infty}\int_{\mathbb{R}^{p}}m\big((E_{i})_{x}\big)\mathrm{d}x=\int_{\mathbb{R}^{p}}\sum\limits_{i =1}^{\infty}m\big((E_{i})_{x}\big)\mathrm{d}x = \int_{\mathbb{R}^{p}}m(E_{x})\mathrm{d}x
$$
(2) 证明方体属于 $\mathscr{E}$.

设方体 $I=I_{1}\times I_{2}$, $I_{1}$ 是 $\mathbb{R}^{p}$ 中的方体, $I_{2}$ 是 $\mathbb{R}^{q}$ 中的方体, 则对每个 $x\in \mathbb{R}^{p}$, 
$$
E_{x}=\begin{cases}
&I_{1}& x\in I_{1}\\
&\emptyset & x\notin I_{1}
\end{cases}
$$

$$
m(E_{x})=\begin{cases}
&|I_{1}|& x\in I_{1}\\
&0 & x\notin I_{1}
\end{cases}
$$

因此 $E_{x}$ 是 $\mathbb{R}^{q}$ 上的可测集, 函数 $m(E_{x})$ 是可测的, 并且
$$
m(I)=|I_{1}\times I_{2}|=|I_{1}|\cdot|I_{2}|=\int_{I_{1}}|I_{2}|\mathrm{d}x=\int_{I_{1}}m(E_{x})\mathrm{d}x
$$
(3) 证明开集属于 $\mathscr{E}$.

根据定理1.1.14, 任意开集都可以表示为一列互不相交的半开方体的并, 由(1) 中的结论, 它属于 $\mathscr{E}$.

(4) 证明有界 $G_{\sigma}$ 型集属于 $\mathscr{E}$.

设 $G$ 是有界 $G_{\sigma}$ 型集, 则 $G$ 可以表示为 $G=\bigcap\limits_{n=1}^{\infty}G_{n}$, 其中 $\{G_{n}\}$ 是一列单调递减的开集. 由于 $G$ 有界, 则必然存在某个 $G_{n}$ 是有限集, 不妨设这个 $G_{n}$ 为 $G_{1}$, 如若不然, 则可以把 $G_{n}$ 之前的项移除, 并重新记 $G_{n}$ 为 $G_{1}$, 此时 $m(G_{1})\lt \infty$. 因为 $G_{n}$ 是开集, 由 (3) 的结论, $(G_{n})_{x}$ 是 $\mathbb{R}^{q}$ 上的可测集. 显然 $G_{x}=\bigcap\limits_{n=1}^{\infty}(G_{n})_{x}$, 结合 (3) 结论可知每个 $(G_{n})_{x}$ 是 $\mathbb{R}^{q}$ 上的可测集, 可知 $\{(G_{n})_{x}\}$ 是一列递减的可测集, $G_{x}$ 是 $\mathbb{R}^{q}$ 上的可测集, 此时 $m\big((G_{1})_{x}\big)\leq m(G_{1})\lt \infty$. 

由测度的上连续性, 有
$$
m(E_{x})=\lim\limits_{n \rightarrow \infty}m\big((G_{n})_{x}\big)
$$

$$
m(E)=\lim\limits_{n \rightarrow \infty} m(G_{n})=\lim\limits_{n \rightarrow \infty} \int_{\mathbb{R}^{p}}m\big((G_{n})_{x}\big)\mathrm{d}x
$$

由(3)的结论, 每个于 $m\big((G_{n})_{x}\big)$ 是可测函数, 因此 $m(E_{x})$ 是可测函数. 由 $\{(G_{n})_{x}\}$ 的递减性可知 $m\big((G_{n})_{x}\big)\leq m\big((G_{1})_{x}\big)\lt \infty$, 所以由有界收敛定理, 有
$$
\lim\limits_{n \rightarrow \infty} \int_{\mathbb{R}^{p}}m\big((G_{n})_{x}\big)\mathrm{d}x=\int_{\mathbb{R}^{p}}\lim\limits_{n \rightarrow \infty} m\big((G_{n})_{x}\big)\mathrm{d}x=\int_{\mathbb{R}^{p}}m(E_{x})\mathrm{d}x
$$
(5) 证明有界零测度集属于 $\mathscr{E}$.

设 $E$ 是有界零测度集, 根据定理2.2.2, 存在有界的 $G_{\sigma}$ 型集 $G$ 包含它, 且 $m(G-E)=0$, 于是 $m(G)=0$, 显然 $E_{x}\subseteq G_{x}\subseteq G$, 所以 $E_{x}$ 是零测度集, $m(E_{x})=0$ 是 $\mathbb{R}^{p}$ 上的可测函数, 易验证 
$$
m(E)=\int_{\mathbb{R}^{p}}m(E_{x})\mathrm{d}x = 0
$$
(6)  证明一般的有界可测集属于 $\mathscr{E}$.

设 $E$ 是一般的有界可测集, 根据定理2.2.2, 存在有界的 $G_{\sigma}$ 型集 $G$ 包含它, 且 $m(G-E)=0$, 令 $\Delta=G-E$, 则 $\Delta$ 是零测度集, 根据(5)的结论, $\Delta\in\mathscr{E}$, 则 $\Delta_{x}$ 是 $\mathbb{R}^{q}$ 上的可测集 , 由 $E_{x}=G_{x}-\Delta_{x}$ 可知 $E_{x}$ 是 $\mathbb{R}^{q}$ 上的可测集. $m(E_{x})=m(G_{x})-m(\Delta_{x})=m(G_{x})$, 根据(4)的结论, $m(G_{x})$ 是可测函数, 且
$$
m(E)=m(G)=\int_{\mathbb{R}^{p}}m(G_{x})\mathrm{d}x=\int_{\mathbb{R}^{p}}m(E_{x})\mathrm{d}x
$$
证毕.

**定理4.6.2**. (Fubini) (1) 若 $f(x,y)$ 是 $\mathbb{R}^{p}\times \mathbb{R}^{q}$上的非负可测函数, 则对几乎处处的 $x\in \mathbb{R}^{p}$, $f(x,y)$ 作为 $y$ 的函数在 $\mathbb{R}^{q}$上可测, $g(x)=\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y$ 在 $\mathbb{R}^{p}$ 上可测, 并且
$$
\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f(x,y)\mathrm{d}x\mathrm{d}y=\int_{\mathbb{R}^{p}}\mathrm{d}x\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y
$$
(2) 若 $f(x,y)$ 是 $\mathbb{R}^{p}\times \mathbb{R}^{q}$上的可积函数, 则对几乎处处的 $x\in \mathbb{R}^{p}$, $f(x,y)$ 作为 $y$ 的函数在 $\mathbb{R}^{q}$上可积, $g(x)=\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y$ 在 $\mathbb{R}^{p}$ 上可积, 并且
$$
\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f(x,y)\mathrm{d}x\mathrm{d}y=\int_{\mathbb{R}^{p}}\mathrm{d}x\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y
$$
证明: (1) 设 $f(x,y)=\chi_{E}f(x,y)$, 其中 $E\subseteq \mathbb{R}^{p}\times \mathbb{R}^{q}$ 是可测集. 显然
$$
\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f(x,y)\mathrm{d}x\mathrm{d}y=m(E)
$$
对于固定的$x\in \mathbb{R}^{p}$, $f(x,y)=\chi_{E_{x}}(y)$, 根据定理4.6.1中的结论, $E_{x}$ 是 $\mathbb{R}^{q}$ 上的可测集, 因此 $\chi_{E_{x}}(y)$ 是 $\mathbb{R}^{q}$ 上的可测函数, 所以 $f(x,y)$ 作为 $y$ 的函数在 $\mathbb{R}^{q}$上可测. 根据简单函数积分的定义, 有
$$
m(E_{x})=\int_{\mathbb{R}^{q}}\chi_{E_{x}}(y)\mathrm{d}y=\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y=g(x)
$$
根据定理4.6.1中的结论, 若把 $m(E_{x})$ 视为一个关于 $x$ 的函数, 则 $m(E_{x})$ 是可测的, 且
$$
m(E)=\int_{\mathbb{R}^{p}}m(E_{x})\mathrm{d}x
$$
因此 $g(x)$ 在 $\mathbb{R}^{p}$ 上可测, $\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f(x,y)\mathrm{d}x\mathrm{d}y=\int_{\mathbb{R}^{p}}g(x)\mathrm{d}x$.

对于非负可测的函数 $f(x,y)$, 存在单调递增的简单函数列 $\{f_{n}(x,y)\}$, $f_{n}\uparrow f$. 显然对于固定的 $x\in \mathbb{R}^{p}$, $f(x,y)$ 作为 $y$ 的函数满足 $f_{n}(x,y)\uparrow f(x,y)$ . 定义 $g_{n}(x)=\int_{\mathbb{R}^{q}}f_{n}(x,y)\mathrm{d}y$, 根据简单函数情形下的结论, 有: $f_{n}(x,y)$ 作为 $y$ 的函数在 $\mathbb{R}^{q}$上可测, $g_{n}(x)$ 在 $\mathbb{R}^{p}$ 上可测, 因此作为 $\{f_{n}(x,y)\}$ 的极限函数, 对于固定的 $x\in \mathbb{R}^{p}$, $f(x,y)$ 作为 $y$ 的函数时在 $\mathbb{R}^{p}$ 上是可测的, $\{g_{n}(x)\}$ 是单调递增的非负可测函数列, 由 Levi 单调收敛定理, 可知
$$
\lim\limits_{n \rightarrow \infty} g_{n}(x)=\lim\limits_{n \rightarrow \infty}\int_{\mathbb{R}^{q}}f_{n}(x,y)\mathrm{d}y = \int_{\mathbb{R}^{q}}\lim\limits_{n \rightarrow \infty}f_{n}(x,y)\mathrm{d}y = \int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y=g(x)
$$
所以作为 $\{g_{n}(x)\}$ 的极限函数 $g(x)$ 在 $\mathbb{R}^{p}$ 上是可测的. 由 Levi 单调收敛定理可知
$$
\lim\limits_{n\rightarrow\infty}\int_{\mathbb{R}^{p}}g_{n}(x)\mathrm{d}x=\int_{\mathbb{R}^{p}}g(x)\mathrm{d}x
$$

$$
\lim\limits_{n\rightarrow\infty}\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f_{n}(x,y)\mathrm{d}x=\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f(x,y)\mathrm{d}x
$$

而根据简单函数下的结论,
$$
\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f_{n}(x,y)\mathrm{d}x\mathrm{d}y=\int_{\mathbb{R}^{p}}g_{n}(x)\mathrm{d}x
$$
进而可知 $\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f(x,y)\mathrm{d}x\mathrm{d}y=\int_{\mathbb{R}^{p}}g(x)\mathrm{d}x$.

(2) $f\in L(\mathbb{R}^{p}\times\mathbb{R}^{q})$, 对 $f^{+}$ 和 $f^{-}$ 分别应用(1)中的结论, 得到
$$
\int_{\mathbb{R}^{p}}\bigg(\int_{\mathbb{R}^{q}}f^{+}(x,y)\mathrm{d}y\bigg)\mathrm{d}x=\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f^{+}(x,y)\mathrm{d}x\mathrm{d}y
$$

$$
\int_{\mathbb{R}^{p}}\bigg(\int_{\mathbb{R}^{q}}f^{-}(x,y)\mathrm{d}y\bigg)\mathrm{d}x=\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f^{-}(x,y)\mathrm{d}x\mathrm{d}y
$$

由于可积, 所以 $\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f^{+}(x,y)\mathrm{d}x\mathrm{d}y\lt \infty$,  $\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f^{-}(x,y)\mathrm{d}x\mathrm{d}y\lt \infty$, 所以被积函数 $\int_{\mathbb{R}^{q}}f^{-}(x,y)\mathrm{d}y\lt\infty$ a.e., $\int_{\mathbb{R}^{q}}f^{+}(x,y)\mathrm{d}y\lt\infty$ a.e., 这表明对几乎处处的 $x\in \mathbb{R}^{p}$, $f^{+}(x,y),f^{-}(x,y)\in L(\mathbb{R}^{q})$, 从而 $f(x,y)\in L(\mathbb{R}^{p})$.
$$
g(x)=\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y=\int_{\mathbb{R}^{q}}f^{+}(x,y)\mathrm{d}y-\int_{\mathbb{R}^{q}}f^{-}(x,y)\mathrm{d}y \lt \infty
$$
所以 $g(x)\in L(\mathbb{R}^{p})$, 
$$
\begin{align}
\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f(x,y)\mathrm{d}x\mathrm{d}y&=\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f^{+}(x,y)\mathrm{d}x\mathrm{d}y-\int_{\mathbb{R}^{p}\times\mathbb{R}^{q}}f^{-}(x,y)\mathrm{d}x\mathrm{d}y\\
&=\int_{\mathbb{R}^{p}}\bigg(\int_{\mathbb{R}^{q}}f^{+}(x,y)\mathrm{d}y\bigg)\mathrm{d}x-\int_{\mathbb{R}^{p}}\bigg(\int_{\mathbb{R}^{q}}f^{-}(x,y)\mathrm{d}y\bigg)\mathrm{d}x\\
&=\int_{\mathbb{R}^{p}}\bigg(\int_{\mathbb{R}^{q}}f^{+}(x,y)\mathrm{d}y\bigg)-\bigg(\int_{\mathbb{R}^{q}}f^{-}(x,y)\mathrm{d}y\bigg)\mathrm{d}x \\
&=\int_{\mathbb{R}^{p}}\bigg(\int_{\mathbb{R}^{q}}f^{+}(x,y)-f^{-}(x,y)\mathrm{d}y\bigg)\mathrm{d}x\\
&=\int_{\mathbb{R}^{p}}\mathrm{d}x\int_{\mathbb{R}^{q}}f(x,y)\mathrm{d}y
\end{align}
$$
证毕.
